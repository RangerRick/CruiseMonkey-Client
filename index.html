<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0">
		<title>CruiseMonkey 3</title>

		<link rel="stylesheet" href="cruisemonkey.css" type="text/css" />
		
		<script src="foundation/javascripts/modernizr.foundation.js"></script>

		<!-- IE Fix for HTML5 Tags -->
		<!--[if lt IE 9]>
			<script src="html5shim/html5.js"></script>
		<![endif]-->
	</head>
	<body onload="onLoad()">
		<div id="header"></div>
		<div id="content"><div class="loading">loading...</div></div>

		<script>
			var m_deviceReady = false,
			m_isPhoneGap = false,
			initializeApp = function(event) {
				console.log('Initializing Cruise Monkey.');
				if (m_deviceReady) {
					console.log("Already initialized!");
					return;
				}
				m_deviceReady = true;
				templateLoader.load();
			},
			onLoad = function() {
				$.getScript('phonegap.js')
					.done(function() {
						console.log("loaded phonegap.js");
						m_isPhoneGap = true;
						document.addEventListener("deviceready", initializeApp, false);
					}).fail(function() {
						console.log("phonegap.js not found: starting in browser mode");
						m_isPhoneGap = false;
						initializeApp();
					});
			};
		</script>

		<script src="3rdparty.js"></script>

		<script src="cruisemonkey.js"></script>
	</body>
</html>
